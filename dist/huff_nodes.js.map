{"version":3,"sources":["webpack:///webpack/bootstrap 2d76507f91a5e87beddd","webpack:///./js/util.js","webpack:///./js/penta_node_list.js","webpack:///./js/data.js","webpack:///./js/penta_node.js","webpack:///./js/list_collapse.js","webpack:///./js/huff_nodes.js"],"names":["getCharFreq","text","charFreq","i","length","c","charAt","hasOwnProperty","charBinAt","str","idx","padEightBits","charCodeAt","toString","charToBin","ch","stringToBin","binString","concat","bin","numLeadingZeros","repeat","charToName","rootToJson","root","isLeaf","name","count","children","leftChild","rightChild","PentaNodeList","freqHash","head","tail","left","right","keys","Object","console","log","node","insert","currNode","last","pop","nextToLast","append","merge","combineLastTwo","toHierarchyObject","isTree","leftToJson","walker","currCount","Util","appData","passage","AppdData","rootNode","huffDict","huffHeader","PentaNode","parent","order","getBirthOrder","setTreeTransformView","data","dataFromCountObject","update","nextTreeState","nodes","d3","select","selectAll","d","style","enterSelection","enter","classed","exit","remove","dataCompare","a","b","obj","forEach","key","push","sort","hierarchyFromData","slice","z","y","$","linkedList","treeView","HuffmanTreeView","width","height","svg","attr","duration","treemap","tree","size","hierarchy","x0","y0","leaves","collapsed","timer","setInterval","nextMorphState","clearInterval","n","source","index","treeData","descendants","links","depth","id","nodeEnter","x","on","click","bind","_children","nodeUpdate","transition","nodeExit","link","linkEnter","o","diagonal","linkUpdate","linkExit","s","path"],"mappings":"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","file":"huff_nodes.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2d76507f91a5e87beddd","import PentaNodeList from './penta_node_list.js';\n\nexport const getCharFreq = (text) => {\n  const charFreq = {};\n  for(let i = 0; i < text.length; i++) {\n    let c = text.charAt(i);\n    if (charFreq.hasOwnProperty(c)) {\n      charFreq[c] += 1;\n    } else {\n      charFreq[c] = 1;\n    }\n  }\n  return charFreq;\n};\n\nconst charBinAt = (str, idx) => {\n  return padEightBits(str.charCodeAt(idx).toString(2));\n};\n\nconst charToBin = (ch) => {\n  return padEightBits(ch.charCodeAt(0).toString(2));\n};\n\nconst stringToBin = (str) => {\n  let binString = \"\";\n  for (let i = 0; i < str.length; i++) {\n    binString = binString.concat(charToBin(str.charAt(i)));\n  }\n  return binString;\n};\n\nconst padEightBits = (bin) => {\n  const numLeadingZeros = 8 - bin.length;\n  return \"0\".repeat(numLeadingZeros).concat(bin);\n};\n\nconst charToName = (ch) => {\n  switch (ch) {\n    case \" \":\n      return \"space\";\n    case \"\\n\":\n      return \"newline\";\n    case \"\\t\":\n      return \"tab\";\n    default:\n      return ch;\n  }\n};\n\nexport const rootToJson = (root) => {\n  if (root.isLeaf()) {\n    return {\n      name: root.name,\n      // id: root.name,\n      count: root.count,\n      children: null,\n    };\n  } else {\n    return {\n      name: root.name,\n      // id: root.name,\n      count: root.count,\n      children: [\n        rootToJson(root.leftChild),\n        rootToJson(root.rightChild)\n      ],\n    };\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/util.js","import PentaNode from './penta_node.js';\nimport { rootToJson } from './util';\n\n// (head) <-> (...nodes) <-> (tail)\nclass PentaNodeList {\n  constructor(freqHash) {\n    this.count = 0;\n    this.head = new PentaNode(\"head\", 0);\n    this.tail = new PentaNode(\"tail\", 0);\n    this.tail.left = this.head;\n    this.head.right = this.tail;\n    let keys = Object.keys(freqHash);\n    for (let i = 0; i < keys.length; i++) {\n      console.log(i);\n      let node = new PentaNode(keys[i], freqHash[keys[i]]);\n      this.insert(node);\n    }\n  }\n\n  insert(node) {\n    let currNode = this.tail.left;\n    while (currNode !== this.head) {\n      if (currNode.count > node.count) {\n        // insert to right of currNode\n        node.left = currNode;\n        node.right = currNode.right;\n        currNode.right.left = node;\n        currNode.right = node;\n        this.count++;\n        return;\n      }\n      currNode = currNode.left;\n    }\n    // insert to right of head\n    node.left = currNode;\n    node.right = currNode.right;\n    currNode.right.left = node;\n    currNode.right = node;\n    this.count++;\n  }\n\n  append(node) {\n    node.left = this.tail.left;\n    node.right = this.tail;\n    this.tail.left.right = node;\n    this.tail.left = node;\n  }\n\n  mergeLastTwo() {\n    if (this.count > 1) {\n      let last = this.pop();\n      let nextToLast = this.pop();\n      this.append(PentaNode.merge(nextToLast, last));\n    }\n  }\n\n  combineLastTwo() {\n    if (this.count > 1) {\n      let last = this.pop();\n      let nextToLast = this.pop();\n      this.insert(PentaNode.merge(nextToLast, last));\n    }\n  }\n\n  pop() {\n    if (this.count < 1) {\n      return null;\n    } else {\n      let node = this.tail.left;\n      this.tail.left = node.left;\n      node.left.right = this.tail;\n      node.left = null;\n      node.right = null;\n      this.count--;\n      return node;\n    }\n  }\n\n  getPentaNodeTree() {\n    if (this.count < 1) {\n      return null;\n    } else if (this.count === 1) {\n      return this.head.right;\n    } else {\n      while (this.count > 1) {\n        this.combineLastTwo();\n      }\n      return this.head.right;\n    }\n  }\n\n  nextMorphState() {\n    if (this.count > 1) {\n      this.combineLastTwo();\n      return this.toHierarchyObject();\n    } else if (this.count === 1) {\n      return this.toHierarchyObject();\n    } else {\n      return {};\n    }\n  }\n\n  toHierarchyObject() {\n    if (this.isTree()) {\n      return rootToJson(this.head.right);\n    } else {\n      return this.leftToJson(this.head.right);\n    }\n  }\n\n  leftToJson(node) {\n    return {\n      name: node.name,\n      // id: node.name,\n      count: node.count,\n      children: (node.right === this.tail) ? [] : [this.leftToJson(node.right)],\n    };\n  }\n\n  isTree() {\n    return this.count === 1;\n  }\n\n  isInOrder() {\n    let walker = this.head.right;\n    let currCount = walker.count;\n\n  }\n\n}\n\nexport default PentaNodeList;\n\n\n\n// WEBPACK FOOTER //\n// ./js/penta_node_list.js","import * as Util from './util';\n\nexport const appData = {\n  passage: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n\n};\n\nclass AppdData {\n  constructor(text) {\n    this.text = text;\n    this.charFreq = Util.getCharFreq(this.text);\n    this.rootNode = {};\n    this.huffDict = {};\n    this.huffHeader = \"\";\n  }\n}\nappData[\"charFreq\"] = Util.getCharFreq(appData.passage);\nappData[\"huffDict\"] = {};\nappData[\"huffHeader\"] = \"\";\n\n\n\n// WEBPACK FOOTER //\n// ./js/data.js","class PentaNode {\n  constructor(name, count) {\n    this.name = name;\n    this.count = count;\n    this.left = null;\n    this.right = null;\n    this.parent = null;\n    this.leftChild = null;\n    this.rightChild = null;\n  }\n\n  isLeaf() {\n    return (!this.leftChild) && (!this.rightChild);\n  }\n\n  isLeftChild() {\n    if (this.parent) {\n      return this.parent.leftChild === this;\n    } else {\n      return false;\n    }\n  }\n\n  getBirthOrder() {\n    if (this.parent.leftChild === this) {\n      return 0;\n    }\n    if (this.parent.rightChild === this) {\n      return 1;\n    }\n    return -1;\n  }\n\n  setLeft(node) {\n    node.right = this;\n    node.left = this.left;\n    if (this.left) {\n      this.left.right = node;\n    }\n    this.left = node;\n  }\n\n  setRight(node) {\n    node.right = this;\n    node.left = this.left;\n    if (this.left) {\n      this.left.right = node;\n    }\n    this.left = node;\n  }\n\n  setLeftChild(node) {\n    if (node) {\n      if (node.parent) {\n        let order = this.getBirthOrder();\n        if (order === 0) {\n          node.parent.leftChild = null;\n        } else if (order === 1) {\n          node.parent.rightChild = null;\n        }\n        node.parent = null;\n      }\n      node.parent = this;\n    }\n    this.leftChild = node;\n  }\n\n  setRightChild(node) {\n    if (node) {\n      if (node.parent) {\n        let order = this.getBirthOrder();\n        if (order === 0) {\n          node.parent.leftChild = null;\n        } else if (order === 1) {\n          node.parent.rightChild = null;\n        }\n        node.parent = null;\n      }\n      node.parent = this;\n    }\n    this.rightChild = node;\n  }\n\n  static merge(left, right) {\n    const node = new PentaNode(left.name + right.name, left.count + right.count);\n    node.leftChild = left;\n    node.rightChild = right;\n    left.parent = node;\n    right.parent = node;\n    return node;\n  }\n}\n\nexport default PentaNode;\n\n\n\n// WEBPACK FOOTER //\n// ./js/penta_node.js","import { appData } from './data.js';\n\nconst passage = appData.passage;\nconst charFreq = appData.charFreq;\n\nexport const setTreeTransformView = () => {\n  let data = dataFromCountObject(charFreq);\n  update(data);\n  return () => {\n    data = nextTreeState(data);\n    update(data);\n    if (data.length <= 1) {\n      return true;\n    }\n    return false;\n  };\n};\n\nexport const update = (data) => {\n  let nodes = d3.select(\".freq-node-container\").selectAll(\".freq-node\").data(data, function(d) { return d.name; });\n\n  nodes.style(\"order\", function(d) { return -1 * d.count; });\n  nodes.select(\".freq-count\").text(function(d) { return d.count; });\n\n  let enterSelection = nodes.enter().append(\"div\").classed(\"freq-node\", true);\n  enterSelection.append(\"div\").classed(\"freq-name\", true).text(function(d) { return d.name; });\n  enterSelection.append(\"div\").classed(\"freq-count\", true).text(function(d) { return d.count; });\n  enterSelection.style(\"order\", function(d) { return -1 * d.count; });\n\n  nodes.exit().remove();\n};\n\nconst dataCompare = (a, b) => {\n  return (b.count - a.count);\n};\n\nexport const dataFromCountObject = (obj) => {\n  let keys = Object.keys(obj);\n  let data = [];\n  keys.forEach((key) => {\n    data.push({name: key, count: obj[key]});\n  });\n  return data.sort(dataCompare);\n};\n\nexport const hierarchyFromData = (data) => {\n  switch (data.length) {\n    case 0:\n      return {};\n    default:\n      return {\n        name: data[0].name,\n        count: data[0].count,\n        children: [\n          hierarchyFromData(data.slice(1))\n        ],\n      };\n  }\n};\n\nexport const nextTreeState = (data) => {\n  let z = data.pop();\n  let y = data.pop();\n  let parent = { name: y.name.concat(z.name), count: y.count + z.count };\n  data.push(parent);\n\n  return data.sort(dataCompare);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/list_collapse.js","import PentaNodeList from './penta_node_list';\nimport { rootToJson } from './util';\nimport { appData } from './data';\nimport { hierarchyFromData, dataFromCountObject } from './list_collapse';\n\nconst passage = appData.passage;\n\nconst charFreq = appData.charFreq;\n\n$(() => {\n  let linkedList = new PentaNodeList(charFreq);\n  let treeView = new HuffmanTreeView(linkedList, 800, 677);\n});\n\n// Code for creating and drawing tree modified from:\n// http://bl.ocks.org/d3noob/8375092\n\nclass HuffmanTreeView {\n  constructor(data, width, height) {\n    this.svg = d3.select(\"#huff-nodes\").append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\"\n          + \"0\" + \",\" + \"20\" + \")\");\n\n    this.width = width;\n    this.height = height;\n\n    this.duration = 750; //ms\n    this.i = 0;\n\n    this.treemap = d3.tree().size([width, height]);\n\n    this.root = d3.hierarchy(data.toHierarchyObject(), function(d) {\n      return d.children;\n    });\n\n    this.root.x0 = width / 2;\n    this.root.y0 = 0;\n\n    this.leaves = this.treemap(this.root).leaves();\n    console.log(this.leaves);\n\n    this.collapsed = [];\n\n    this.update(this.root);\n    let timer = setInterval(()=> {\n      this.root = d3.hierarchy(data.nextMorphState(), function(d) {\n        return d.children;\n      });\n\n      this.root.x0 = width / 2;\n      this.root.y0 = 0;\n      this.update(this.root);\n      if (data.isTree()) {\n        clearInterval(timer);\n        console.log(\"interval cleared\");\n      }\n    }, 1000);\n\n  }\n\n  numLeaves() {\n    return this.leaves.length;\n  }\n\n  setView(n) {\n    this.update(this.root, n);\n  }\n\n  update(source, index) {\n    let treeData = this.treemap(this.root);\n    let nodes = treeData.descendants();\n    let links = treeData.descendants().slice(1);\n\n    nodes.forEach((d) => { d.y = d.depth * 40;});\n\n    let node = this.svg.selectAll(\"g.node\")\n      .data(nodes, (d) => {\n        return d.id || (d.id = d.name);\n      });\n\n    let nodeEnter = node.enter()\n      .append(\"g\")\n      .attr(\"class\", \"node\")\n      .attr(\"transform\", function(d) {\n        return \"translate(\" + (d.parent ? d.x : source.x) + \",\" + (d.parent ? d.y : source.y) + \")\";\n      })\n      .on(\"click\", click.bind(this));\n\n    nodeEnter.append('circle')\n    .attr('class', 'node')\n    .attr('r', 1e-6)\n    .style(\"fill\", function(d) {\n      return d.children || d._children ? \"lightsteelblue\" : \"#fff\";\n    });\n\n    nodeEnter.append(\"text\")\n    .attr(\"dx\", -5)\n    .attr(\"y\", function(d) {\n      return d.children || d._children ? -23 : 23;\n    })\n    .attr(\"text-anchor\", function(d) {\n      return d.children || d._children ? \"end\" : \"start\";\n    })\n    .text(function(d) {\n      return d.data.name.length > 1 ? d.data.count : d.data.name;\n    });\n\n    var nodeUpdate = nodeEnter.merge(node);\n\n    // Transition to the proper position for the node\n    nodeUpdate.transition()\n    .duration(this.duration)\n    .attr(\"transform\", function(d) {\n      return \"translate(\" + d.x + \",\" + d.y + \")\";\n    });\n\n    // Update the node attributes and style\n    nodeUpdate.select('circle.node')\n    .attr('r', 10)\n    .style(\"fill\", function(d) {\n      return d._children ? \"lightsteelblue\" : \"#fff\";\n    })\n    .attr('cursor', 'pointer');\n\n\n    // Remove any exiting nodes\n    let nodeExit = node.exit().transition()\n    .duration(this.duration)\n    .attr(\"transform\", function(d) {\n      return \"translate(\" + d.x + \",\" + d.y + \")\";\n    })\n    .remove();\n\n    // On exit reduce the node circles size to 0\n    nodeExit.select('circle')\n      .attr('r', 1e-6);\n\n    // On exit reduce the opacity of text labels\n    nodeExit.select('text')\n      .style('fill-opacity', 1e-6);\n\n    // ****************** links section ***************************\n\n    // Update the links...\n    let link = this.svg.selectAll('path.link')\n      .data(links, function(d) { return d.id; });\n\n    // Enter any new links at the parent's previous position.\n    let linkEnter = link.enter().insert('path', \"g\")\n      .attr(\"class\", \"link\")\n      .attr('d', function(d){\n        let o = {x: d.x, y: d.y};\n        return diagonal(o, o);\n      });\n\n    // UPDATE\n    let linkUpdate = linkEnter.merge(link);\n\n    // Transition back to the parent element position\n    linkUpdate.transition()\n      .duration(this.duration)\n      .attr('d', function(d){ return diagonal(d, d.parent); });\n\n    // Remove any exiting links\n    let linkExit = link.exit().transition()\n      .duration(this.duration)\n      .attr('d', function(d) {\n        var o = {x: source.x, y: source.y};\n        return diagonal(o, o);\n      })\n      .remove();\n\n    // Store the old positions for transition.\n    nodes.forEach(function(d) {\n      d.x0 = d.x;\n      d.y0 = d.y;\n    });\n\n    // Creates a curved (diagonal) path from parent to the child nodes\n    function diagonal(s, d) {\n      let path = `M ${s.x} ${s.y}\n      L\n      ${d.x} ${d.y}`;\n\n      return path;\n    }\n\n    // Toggle children on click.\n    function click(d) {\n      if (d.children) {\n        d._children = d.children;\n        d.children = null;\n      } else {\n        d.children = d._children;\n        d._children = null;\n      }\n      this.update(d);\n    }\n  }\n}\n\nexport default HuffmanTreeView;\n\n\n\n// WEBPACK FOOTER //\n// ./js/huff_nodes.js"],"sourceRoot":""}